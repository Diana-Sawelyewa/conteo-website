(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.querySelector(".form__body__mobile.order"),t=document.querySelector(".modal-form.order");function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function r(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return 11!==e.value.replace(/\D/g,"").length}e.addEventListener("submit",(()=>async function(e,t,l){(e=e||window.event).preventDefault();let s=function(e){let t=0,l=e.querySelectorAll("._req");for(let e=0;e<l.length;e++){const s=l[e];r(s),s.classList.contains("_phone")?o(s)&&(n(s),t++):""===s.value&&(n(s),t++)}return t}(t),c={name:t.querySelector('input[name="name"]').value,tel:t.querySelector('input[name="phone"]').value,topic:"Мультимодальные перевозки"};0===s&&(t.classList.add("_sending"),(await fetch("../sendmailorder.php",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json; charset=UTF-8"}})).ok?(t.classList.remove("_sending"),l.querySelector(".ready").style.display="block",setTimeout((()=>{l.querySelector(".ready").style.display="none"}),"5000"),t.reset()):(t.classList.remove("_sending"),l.querySelector(".error").style.display="block"))}(event,e,t)));const l=document.querySelectorAll("input.form__input");l.forEach(((e,t)=>{e.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),t<l.length-1&&l[t+1].focus())}))}))})(),function(){const e=document.querySelector(".modal-form"),t=document.querySelectorAll(".btn-pop"),n=document.querySelector(".close-form");function r(){window.removeEventListener("wheel",o,{passive:!1}),window.removeEventListener("touchmove",o,{passive:!1})}function o(e){e.preventDefault()}t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="flex",window.addEventListener("wheel",o,{passive:!1}),window.addEventListener("touchmove",o,{passive:!1})}))})),n.onclick=function(){e.style.display="none",r()},window.addEventListener("click",(function(t){t.target==e&&(e.style.display="none",r())})),document.addEventListener("keydown",(function(t){if("flex"===e.style.display){if("Escape"!==t.key)return;e.style.display="none",r()}}))}(),function(){const e=document.querySelector(".form__body"),t=document.querySelector(".form__body__mobile"),n=document.querySelector("section.form"),r=document.querySelector("section.mobile_form");async function o(e,t,n){(e=e||window.event).preventDefault();let r=function(e){let t=0,n=e.querySelectorAll("._req");for(let e=0;e<n.length;e++){const r=n[e];s(r),r.classList.contains("_phone")?c(r)&&(l(r),t++):""===r.value&&(l(r),t++)}return t}(t),o={name:t.querySelector('input[name="name"]').value,tel:t.querySelector('input[name="phone"]').value,weight:t.querySelector('input[name="weight"]').value,to:t.querySelector('input[name="to"]').value,from:t.querySelector('input[name="from"]').value,company:t.querySelector('input[name="company"]').value,email:t.querySelector('input[name="email"]').value,custom:t.querySelector('input[name="custom"]:checked').value,forwarding:t.querySelector('input[name="forwarding"]:checked').value,type:t.querySelector(".formTypes").value,comment:t.querySelector('textarea[name="comment"]').value};0===r&&(t.classList.add("_sending"),(await fetch("../sendmail.php",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}})).ok?(t.classList.remove("_sending"),n.querySelector(".ready").style.display="block",setTimeout((()=>{n.querySelector(".ready").style.display="none"}),"10000"),t.reset()):(t.classList.remove("_sending"),n.querySelector(".error").style.display="block"))}function l(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function s(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function c(e){return 11!==e.value.replace(/\D/g,"").length}e.addEventListener("submit",(()=>o(event,e,n))),t.addEventListener("submit",(()=>o(event,t,r)));const a=document.querySelectorAll("input.form__input");a.forEach(((e,t)=>{e.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),t<a.length-1&&a[t+1].focus())}))}))}()}))})();
//# sourceMappingURL=bundle.js.map