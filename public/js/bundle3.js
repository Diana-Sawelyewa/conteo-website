(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.querySelector(".form__body__mobile.order"),t=document.querySelector(".modal-form.order");function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function o(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function r(e){return 11!==e.value.replace(/\D/g,"").length}e.addEventListener("submit",(()=>async function(e,t,s){(e=e||window.event).preventDefault();let i=function(e){let t=0,s=e.querySelectorAll("._req");for(let e=0;e<s.length;e++){const i=s[e];o(i),i.classList.contains("_phone")?r(i)&&(n(i),t++):""===i.value&&(n(i),t++)}return t}(t),l={name:t.querySelector('input[name="name"]').value,tel:t.querySelector('input[name="phone"]').value,topic:"Мультимодальные перевозки"};0===i&&(t.classList.add("_sending"),(await fetch("../sendmailorder.php",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json; charset=UTF-8"}})).ok?(t.classList.remove("_sending"),s.querySelector(".ready").style.display="block",setTimeout((()=>{s.querySelector(".ready").style.display="none"}),"5000"),t.reset()):(t.classList.remove("_sending"),s.querySelector(".error").style.display="block"))}(event,e,t)));const s=document.querySelectorAll("input.form__input");s.forEach(((e,t)=>{e.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),t<s.length-1&&s[t+1].focus())}))}))})(),function(){const e=document.querySelector(".modal-form");function t(){window.removeEventListener("wheel",n,{passive:!1}),window.removeEventListener("touchmove",n,{passive:!1})}function n(e){e.preventDefault()}document.querySelectorAll(".btn-pop").forEach((t=>{t.addEventListener("click",(()=>{e.style.display="flex",window.addEventListener("wheel",n,{passive:!1}),window.addEventListener("touchmove",n,{passive:!1})}))})),document.querySelector(".close-form").onclick=function(){e.style.display="none",t()},window.addEventListener("click",(function(n){n.target==e&&(e.style.display="none",t())})),document.addEventListener("keydown",(function(n){if("flex"===e.style.display){if("Escape"!==n.key)return;e.style.display="none",t()}}))}()}))})();
//# sourceMappingURL=bundle.js.map